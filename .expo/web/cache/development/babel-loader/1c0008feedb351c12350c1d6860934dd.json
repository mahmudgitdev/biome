{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _class,\n    _temp,\n    _jsxFileName = \"/home/jsamr/Programmation/react-native-render-html/src/HTMLImage.js\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar defaultImageStyle = {\n  resizeMode: \"cover\"\n};\nvar emptyObject = {};\n\nvar styles = _reactNative.StyleSheet.create({\n  image: {\n    resizeMode: \"cover\"\n  },\n  errorBox: {\n    borderWidth: 1,\n    borderColor: \"lightgray\",\n    overflow: \"hidden\",\n    justifyContent: \"center\"\n  },\n  errorText: {\n    textAlign: \"center\",\n    fontStyle: \"italic\"\n  },\n  container: {\n    flexDirection: \"row\",\n    alignSelf: \"stretch\",\n    justifyContent: \"center\"\n  }\n});\n\nfunction extractImgStyleProps(_ref) {\n  var resizeMode = _ref.resizeMode,\n      tintColor = _ref.tintColor,\n      overlayColor = _ref.overlayColor;\n  return {\n    resizeMode: resizeMode,\n    tintColor: tintColor,\n    overlayColor: overlayColor\n  };\n}\n\nfunction attemptParseFloat(value) {\n  var result = parseFloat(value);\n  return Number.isNaN(result) ? null : result;\n}\n\nfunction normalizeSize(dimension) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var containerDimension = options.containerDimension || null;\n  var enablePercentWidth = options.enablePercentWidth || false;\n\n  if (dimension === null || dimension === undefined || Number.isNaN(dimension)) {\n    return null;\n  }\n\n  if (typeof dimension === \"number\") {\n    return dimension;\n  }\n\n  if (typeof dimension === \"string\") {\n    if (dimension.search(\"%\") !== -1 && enablePercentWidth && typeof containerDimension === \"number\") {\n      var parsedFloat = attemptParseFloat(dimension);\n\n      if (parsedFloat === null || Number.isNaN(parsedFloat)) {\n        return null;\n      }\n\n      return parsedFloat * containerDimension / 100;\n    } else if (dimension.trim().match(/^[\\d.]+$/)) {\n      return attemptParseFloat(dimension);\n    }\n  }\n\n  return null;\n}\n\nfunction extractHorizontalSpace() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      marginHorizontal = _ref2.marginHorizontal,\n      leftMargin = _ref2.leftMargin,\n      rightMargin = _ref2.rightMargin,\n      margin = _ref2.margin;\n\n  var realLeftMargin = leftMargin || marginHorizontal || margin || 0;\n  var realRightMargin = rightMargin || marginHorizontal || margin || 0;\n  return realLeftMargin + realRightMargin;\n}\n\nfunction derivePhysicalDimensionsFromProps(_ref3) {\n  var width = _ref3.width,\n      height = _ref3.height,\n      contentWidth = _ref3.contentWidth,\n      enablePercentWidth = _ref3.enableExperimentalPercentWidth;\n  var normalizeOptionsWidth = {\n    enablePercentWidth: enablePercentWidth,\n    containerDimension: contentWidth\n  };\n  var normalizeOptionsHeight = {\n    enablePercentWidth: false\n  };\n  var widthProp = normalizeSize(width, normalizeOptionsWidth);\n  var heightProp = normalizeSize(height, normalizeOptionsHeight);\n  return {\n    width: widthProp,\n    height: heightProp\n  };\n}\n\nfunction deriveRequiredDimensionsFromProps(_ref4) {\n  var enablePercentWidth = _ref4.enablePercentWidth,\n      contentWidth = _ref4.contentWidth,\n      flatStyle = _ref4.flatStyle,\n      physicalDimensionsFromProps = _ref4.physicalDimensionsFromProps;\n  var normalizeOptionsWidth = {\n    enablePercentWidth: enablePercentWidth,\n    containerDimension: contentWidth\n  };\n  var normalizeOptionsHeight = {\n    enablePercentWidth: false\n  };\n  var styleWidth = normalizeSize(flatStyle.width, normalizeOptionsWidth);\n  var styleHeight = normalizeSize(flatStyle.height, normalizeOptionsHeight);\n  return {\n    width: typeof styleWidth === \"number\" ? styleWidth : physicalDimensionsFromProps.width,\n    height: typeof styleHeight === \"number\" ? styleHeight : physicalDimensionsFromProps.height\n  };\n}\n\nfunction scaleUp(minDimensions, desiredDimensions) {\n  var aspectRatio = desiredDimensions.width / desiredDimensions.height;\n\n  if (desiredDimensions.width < minDimensions.width) {\n    return scaleUp(minDimensions, {\n      width: minDimensions.width,\n      height: minDimensions.width / aspectRatio\n    });\n  }\n\n  if (desiredDimensions.height < minDimensions.height) {\n    return scaleUp(minDimensions, {\n      height: minDimensions.height,\n      width: minDimensions.height * aspectRatio\n    });\n  }\n\n  return desiredDimensions;\n}\n\nfunction scaleDown(maxDimensions, desiredDimensions) {\n  var aspectRatio = desiredDimensions.width / desiredDimensions.height;\n\n  if (desiredDimensions.width > maxDimensions.width) {\n    return scaleDown(maxDimensions, {\n      width: maxDimensions.width,\n      height: maxDimensions.width / aspectRatio\n    });\n  }\n\n  if (desiredDimensions.height > maxDimensions.height) {\n    return scaleDown(maxDimensions, {\n      height: maxDimensions.height,\n      width: maxDimensions.height * aspectRatio\n    });\n  }\n\n  return desiredDimensions;\n}\n\nfunction scale(_ref5, originalBox) {\n  var minBox = _ref5.minBox,\n      maxBox = _ref5.maxBox;\n  return scaleDown(maxBox, scaleUp(minBox, originalBox));\n}\n\nfunction sourcesAreEqual(source1, source2) {\n  return source1 && source2 && source1.uri === source2.uri || source1 === source2;\n}\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction _computeImageBoxDimensions(params) {\n  var computeImagesMaxWidth = params.computeImagesMaxWidth,\n      contentWidth = params.contentWidth,\n      flattenStyles = params.flattenStyles,\n      imagePhysicalWidth = params.imagePhysicalWidth,\n      imagePhysicalHeight = params.imagePhysicalHeight,\n      requiredWidth = params.requiredWidth,\n      requiredHeight = params.requiredHeight;\n  var horizontalSpace = extractHorizontalSpace(flattenStyles);\n  var _flattenStyles$maxWid = flattenStyles.maxWidth,\n      maxWidth = _flattenStyles$maxWid === void 0 ? Infinity : _flattenStyles$maxWid,\n      _flattenStyles$maxHei = flattenStyles.maxHeight,\n      maxHeight = _flattenStyles$maxHei === void 0 ? Infinity : _flattenStyles$maxHei,\n      _flattenStyles$minWid = flattenStyles.minWidth,\n      minWidth = _flattenStyles$minWid === void 0 ? 0 : _flattenStyles$minWid,\n      _flattenStyles$minHei = flattenStyles.minHeight,\n      minHeight = _flattenStyles$minHei === void 0 ? 0 : _flattenStyles$minHei;\n  var imagesMaxWidth = typeof contentWidth === \"number\" ? computeImagesMaxWidth(contentWidth) : Infinity;\n  var minBox = {\n    width: minWidth,\n    height: minHeight\n  };\n  var maxBox = {\n    width: Math.min(imagesMaxWidth, maxWidth, typeof requiredWidth === \"number\" ? requiredWidth : Infinity) - horizontalSpace,\n    height: Math.min(typeof requiredHeight === \"number\" ? requiredHeight : Infinity, maxHeight)\n  };\n\n  if (typeof requiredWidth === \"number\" && typeof requiredHeight === \"number\") {\n    return scale({\n      minBox: minBox,\n      maxBox: maxBox\n    }, {\n      width: requiredWidth,\n      height: requiredHeight\n    });\n  }\n\n  if (imagePhysicalWidth != null && imagePhysicalHeight != null) {\n    return scale({\n      minBox: minBox,\n      maxBox: maxBox\n    }, {\n      width: imagePhysicalWidth,\n      height: imagePhysicalHeight\n    });\n  }\n\n  return null;\n}\n\nvar HTMLImageElement = (_temp = _class = function (_PureComponent) {\n  (0, _inherits2.default)(HTMLImageElement, _PureComponent);\n\n  var _super = _createSuper(HTMLImageElement);\n\n  function HTMLImageElement(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, HTMLImageElement);\n    _this = _super.call(this, props);\n    _this.mounted = false;\n\n    _this.invalidateRequirements(props);\n\n    var state = {\n      imagePhysicalWidth: _this.__cachedPhysicalDimensionsFromProps.width,\n      imagePhysicalHeight: _this.__cachedPhysicalDimensionsFromProps.height,\n      requiredWidth: _this.__cachedRequirements.width,\n      requiredHeight: _this.__cachedRequirements.height,\n      imageBoxDimensions: null,\n      error: false\n    };\n    _this.state = (0, _extends2.default)({}, state, {\n      imageBoxDimensions: _this.computeImageBoxDimensions(props, state)\n    });\n    return _this;\n  }\n\n  (0, _createClass2.default)(HTMLImageElement, [{\n    key: \"invalidateRequirements\",\n    value: function invalidateRequirements(props) {\n      var contentWidth = props.contentWidth,\n          enableExperimentalPercentWidth = props.enableExperimentalPercentWidth,\n          style = props.style;\n      var physicalDimensionsFromProps = derivePhysicalDimensionsFromProps(props);\n      this.__cachedFlattenStyles = _reactNative.StyleSheet.flatten(style) || emptyObject;\n      this.__cachedPhysicalDimensionsFromProps = physicalDimensionsFromProps;\n      this.__cachedRequirements = deriveRequiredDimensionsFromProps({\n        contentWidth: contentWidth,\n        enablePercentWidth: enableExperimentalPercentWidth,\n        flatStyle: this.__cachedFlattenStyles,\n        physicalDimensionsFromProps: physicalDimensionsFromProps\n      });\n    }\n  }, {\n    key: \"computeImageBoxDimensions\",\n    value: function computeImageBoxDimensions(props, state) {\n      var computeImagesMaxWidth = props.computeImagesMaxWidth,\n          contentWidth = props.contentWidth;\n      var imagePhysicalWidth = state.imagePhysicalWidth,\n          imagePhysicalHeight = state.imagePhysicalHeight,\n          requiredWidth = state.requiredWidth,\n          requiredHeight = state.requiredHeight;\n\n      var imageBoxDimensions = _computeImageBoxDimensions({\n        flattenStyles: this.__cachedFlattenStyles,\n        computeImagesMaxWidth: computeImagesMaxWidth,\n        contentWidth: contentWidth,\n        imagePhysicalWidth: imagePhysicalWidth,\n        imagePhysicalHeight: imagePhysicalHeight,\n        requiredWidth: requiredWidth,\n        requiredHeight: requiredHeight\n      });\n\n      return imageBoxDimensions;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true;\n      this.fetchPhysicalImageDimensions();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var sourceHasChanged = !sourcesAreEqual(prevProps.source, this.props.source);\n      var requirementsHaveChanged = prevProps.width !== this.props.width || prevProps.height !== this.props.height || prevProps.style !== this.props.style;\n      var shouldRecomputeImageBox = requirementsHaveChanged || this.state.imagePhysicalWidth !== prevState.imagePhysicalWidth || this.state.imagePhysicalHeight !== prevState.imagePhysicalHeight || this.props.contentWidth !== prevProps.contentWidth || this.props.computeImagesMaxWidth !== prevProps.computeImagesMaxWidth;\n\n      if (requirementsHaveChanged) {\n        this.invalidateRequirements(this.props);\n        this.setState({\n          requiredWidth: this.__cachedRequirements.width,\n          requiredHeight: this.__cachedRequirements.height\n        });\n      }\n\n      if (sourceHasChanged) {\n        if (this.__cachedRequirements.width === null || this.__cachedRequirements.height === null) {\n          this.fetchPhysicalImageDimensions();\n        }\n      }\n\n      if (shouldRecomputeImageBox) {\n        this.setState(function (state, props) {\n          return {\n            imageBoxDimensions: _this2.computeImageBoxDimensions(props, state)\n          };\n        });\n      }\n    }\n  }, {\n    key: \"fetchPhysicalImageDimensions\",\n    value: function fetchPhysicalImageDimensions() {\n      var _this3 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var source = props.source;\n      var shouldFetchFromImgAPI = !!(source != null && source.uri);\n\n      if (this.__cachedPhysicalDimensionsFromProps.width != null && this.__cachedPhysicalDimensionsFromProps.height != null) {\n        this.setState({\n          imagePhysicalWidth: this.__cachedPhysicalDimensionsFromProps.width,\n          imagePhysicalHeight: this.__cachedPhysicalDimensionsFromProps.height\n        });\n      } else if (shouldFetchFromImgAPI) {\n        _reactNative.Image.getSize(source.uri, function (imagePhysicalWidth, imagePhysicalHeight) {\n          _this3.mounted && _this3.setState({\n            imagePhysicalWidth: imagePhysicalWidth,\n            imagePhysicalHeight: imagePhysicalHeight,\n            error: false\n          });\n        }, function () {\n          _this3.mounted && _this3.setState({\n            error: true\n          });\n        });\n      }\n    }\n  }, {\n    key: \"renderImage\",\n    value: function renderImage(imageBoxDimensions, imageStyles) {\n      var _this4 = this;\n\n      var source = this.props.source;\n      return _react.default.createElement(_reactNative.Image, {\n        source: source,\n        onError: function onError() {\n          return _this4.setState({\n            error: true\n          });\n        },\n        style: [defaultImageStyle, imageBoxDimensions, imageStyles],\n        testID: \"image-layout\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 7\n        }\n      });\n    }\n  }, {\n    key: \"renderAlt\",\n    value: function renderAlt() {\n      var imageBoxDimensions = this.computeImageBoxDimensions(this.props, this.state);\n      return _react.default.createElement(_reactNative.View, {\n        style: [styles.errorBox, {\n          height: (imageBoxDimensions == null ? void 0 : imageBoxDimensions.height) || this.props.imagesInitialDimensions.height,\n          width: (imageBoxDimensions == null ? void 0 : imageBoxDimensions.width) || this.props.imagesInitialDimensions.width\n        }],\n        testID: \"image-error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 7\n        }\n      }, this.props.alt ? _react.default.createElement(_reactNative.Text, {\n        style: [styles.errorText, {\n          color: this.props.altColor\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }\n      }, this.props.alt) : false);\n    }\n  }, {\n    key: \"renderPlaceholder\",\n    value: function renderPlaceholder() {\n      return _react.default.createElement(_reactNative.View, {\n        style: this.props.imagesInitialDimensions,\n        testID: \"image-placeholder\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 7\n        }\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent(imgStyles) {\n      var _this$state = this.state,\n          error = _this$state.error,\n          imageBoxDimensions = _this$state.imageBoxDimensions;\n\n      if (error) {\n        return this.renderAlt();\n      }\n\n      if (imageBoxDimensions === null) {\n        return this.renderPlaceholder();\n      }\n\n      return this.renderImage(imageBoxDimensions, imgStyles);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$__cachedFlatten = this.__cachedFlattenStyles,\n          width = _this$__cachedFlatten.width,\n          height = _this$__cachedFlatten.height,\n          remainingStyle = (0, _objectWithoutProperties2.default)(_this$__cachedFlatten, [\"width\", \"height\"]);\n      var imgStyles = extractImgStyleProps(remainingStyle);\n      var style = [styles.container, remainingStyle];\n\n      if (this.props.onPress) {\n        return _react.default.createElement(_reactNative.TouchableHighlight, {\n          onPress: this.props.onPress,\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 9\n          }\n        }, this.renderContent(imgStyles));\n      }\n\n      return _react.default.createElement(_reactNative.View, {\n        style: style,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 12\n        }\n      }, this.renderContent(imgStyles));\n    }\n  }]);\n  return HTMLImageElement;\n}(_react.PureComponent), _class.propTypes = {\n  source: _propTypes.default.object.isRequired,\n  alt: _propTypes.default.string,\n  height: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  width: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  style: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.array]),\n  computeImagesMaxWidth: _propTypes.default.func.isRequired,\n  contentWidth: _propTypes.default.number,\n  enableExperimentalPercentWidth: _propTypes.default.bool,\n  imagesInitialDimensions: _propTypes.default.shape({\n    width: _propTypes.default.number,\n    height: _propTypes.default.number\n  }),\n  altColor: _propTypes.default.string,\n  onPress: _propTypes.default.func,\n  testID: _propTypes.default.string\n}, _class.defaultProps = {\n  enableExperimentalPercentWidth: false,\n  computeImagesMaxWidth: identity,\n  imagesInitialDimensions: {\n    width: 100,\n    height: 100\n  },\n  style: {}\n}, _temp);\nvar _default = HTMLImageElement;\nexports.default = _default;","map":{"version":3,"sources":["L:/ReactNative/biome/node_modules/react-native-render-html/lib/HTMLImage.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","_objectWithoutProperties2","_extends2","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_propTypes","_class","_temp","_jsxFileName","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","defaultImageStyle","resizeMode","emptyObject","styles","_reactNative","StyleSheet","create","image","errorBox","borderWidth","borderColor","overflow","justifyContent","errorText","textAlign","fontStyle","container","flexDirection","alignSelf","extractImgStyleProps","_ref","tintColor","overlayColor","attemptParseFloat","parseFloat","Number","isNaN","normalizeSize","dimension","options","length","undefined","containerDimension","enablePercentWidth","search","parsedFloat","trim","match","extractHorizontalSpace","_ref2","marginHorizontal","leftMargin","rightMargin","margin","realLeftMargin","realRightMargin","derivePhysicalDimensionsFromProps","_ref3","width","height","contentWidth","enableExperimentalPercentWidth","normalizeOptionsWidth","normalizeOptionsHeight","widthProp","heightProp","deriveRequiredDimensionsFromProps","_ref4","flatStyle","physicalDimensionsFromProps","styleWidth","styleHeight","scaleUp","minDimensions","desiredDimensions","aspectRatio","scaleDown","maxDimensions","scale","_ref5","originalBox","minBox","maxBox","sourcesAreEqual","source1","source2","uri","identity","arg","_computeImageBoxDimensions","params","computeImagesMaxWidth","flattenStyles","imagePhysicalWidth","imagePhysicalHeight","requiredWidth","requiredHeight","horizontalSpace","_flattenStyles$maxWid","maxWidth","Infinity","_flattenStyles$maxHei","maxHeight","_flattenStyles$minWid","minWidth","_flattenStyles$minHei","minHeight","imagesMaxWidth","Math","min","HTMLImageElement","_PureComponent","_super","props","_this","mounted","invalidateRequirements","state","__cachedPhysicalDimensionsFromProps","__cachedRequirements","imageBoxDimensions","error","computeImageBoxDimensions","key","style","__cachedFlattenStyles","flatten","componentDidMount","fetchPhysicalImageDimensions","componentWillUnmount","componentDidUpdate","prevProps","prevState","_this2","sourceHasChanged","source","requirementsHaveChanged","shouldRecomputeImageBox","setState","_this3","shouldFetchFromImgAPI","Image","getSize","renderImage","imageStyles","_this4","createElement","onError","testID","__self","__source","fileName","lineNumber","columnNumber","renderAlt","View","imagesInitialDimensions","alt","Text","color","altColor","renderPlaceholder","renderContent","imgStyles","_this$state","render","_this$__cachedFlatten","remainingStyle","onPress","TouchableHighlight","PureComponent","propTypes","object","isRequired","string","oneOfType","number","array","func","bool","shape","defaultProps","_default"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _class,_temp,_jsxFileName=\"/home/jsamr/Programmation/react-native-render-html/src/HTMLImage.js\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var defaultImageStyle={resizeMode:\"cover\"};var emptyObject={};var styles=_reactNative.StyleSheet.create({image:{resizeMode:\"cover\"},errorBox:{borderWidth:1,borderColor:\"lightgray\",overflow:\"hidden\",justifyContent:\"center\"},errorText:{textAlign:\"center\",fontStyle:\"italic\"},container:{flexDirection:\"row\",alignSelf:\"stretch\",justifyContent:\"center\"}});function extractImgStyleProps(_ref){var resizeMode=_ref.resizeMode,tintColor=_ref.tintColor,overlayColor=_ref.overlayColor;return{resizeMode:resizeMode,tintColor:tintColor,overlayColor:overlayColor};}function attemptParseFloat(value){var result=parseFloat(value);return Number.isNaN(result)?null:result;}function normalizeSize(dimension){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var containerDimension=options.containerDimension||null;var enablePercentWidth=options.enablePercentWidth||false;if(dimension===null||dimension===undefined||Number.isNaN(dimension)){return null;}if(typeof dimension===\"number\"){return dimension;}if(typeof dimension===\"string\"){if(dimension.search(\"%\")!==-1&&enablePercentWidth&&typeof containerDimension===\"number\"){var parsedFloat=attemptParseFloat(dimension);if(parsedFloat===null||Number.isNaN(parsedFloat)){return null;}return parsedFloat*containerDimension/100;}else if(dimension.trim().match(/^[\\d.]+$/)){return attemptParseFloat(dimension);}}return null;}function extractHorizontalSpace(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},marginHorizontal=_ref2.marginHorizontal,leftMargin=_ref2.leftMargin,rightMargin=_ref2.rightMargin,margin=_ref2.margin;var realLeftMargin=leftMargin||marginHorizontal||margin||0;var realRightMargin=rightMargin||marginHorizontal||margin||0;return realLeftMargin+realRightMargin;}function derivePhysicalDimensionsFromProps(_ref3){var width=_ref3.width,height=_ref3.height,contentWidth=_ref3.contentWidth,enablePercentWidth=_ref3.enableExperimentalPercentWidth;var normalizeOptionsWidth={enablePercentWidth:enablePercentWidth,containerDimension:contentWidth};var normalizeOptionsHeight={enablePercentWidth:false};var widthProp=normalizeSize(width,normalizeOptionsWidth);var heightProp=normalizeSize(height,normalizeOptionsHeight);return{width:widthProp,height:heightProp};}function deriveRequiredDimensionsFromProps(_ref4){var enablePercentWidth=_ref4.enablePercentWidth,contentWidth=_ref4.contentWidth,flatStyle=_ref4.flatStyle,physicalDimensionsFromProps=_ref4.physicalDimensionsFromProps;var normalizeOptionsWidth={enablePercentWidth:enablePercentWidth,containerDimension:contentWidth};var normalizeOptionsHeight={enablePercentWidth:false};var styleWidth=normalizeSize(flatStyle.width,normalizeOptionsWidth);var styleHeight=normalizeSize(flatStyle.height,normalizeOptionsHeight);return{width:typeof styleWidth===\"number\"?styleWidth:physicalDimensionsFromProps.width,height:typeof styleHeight===\"number\"?styleHeight:physicalDimensionsFromProps.height};}function scaleUp(minDimensions,desiredDimensions){var aspectRatio=desiredDimensions.width/desiredDimensions.height;if(desiredDimensions.width<minDimensions.width){return scaleUp(minDimensions,{width:minDimensions.width,height:minDimensions.width/aspectRatio});}if(desiredDimensions.height<minDimensions.height){return scaleUp(minDimensions,{height:minDimensions.height,width:minDimensions.height*aspectRatio});}return desiredDimensions;}function scaleDown(maxDimensions,desiredDimensions){var aspectRatio=desiredDimensions.width/desiredDimensions.height;if(desiredDimensions.width>maxDimensions.width){return scaleDown(maxDimensions,{width:maxDimensions.width,height:maxDimensions.width/aspectRatio});}if(desiredDimensions.height>maxDimensions.height){return scaleDown(maxDimensions,{height:maxDimensions.height,width:maxDimensions.height*aspectRatio});}return desiredDimensions;}function scale(_ref5,originalBox){var minBox=_ref5.minBox,maxBox=_ref5.maxBox;return scaleDown(maxBox,scaleUp(minBox,originalBox));}function sourcesAreEqual(source1,source2){return source1&&source2&&source1.uri===source2.uri||source1===source2;}function identity(arg){return arg;}function _computeImageBoxDimensions(params){var computeImagesMaxWidth=params.computeImagesMaxWidth,contentWidth=params.contentWidth,flattenStyles=params.flattenStyles,imagePhysicalWidth=params.imagePhysicalWidth,imagePhysicalHeight=params.imagePhysicalHeight,requiredWidth=params.requiredWidth,requiredHeight=params.requiredHeight;var horizontalSpace=extractHorizontalSpace(flattenStyles);var _flattenStyles$maxWid=flattenStyles.maxWidth,maxWidth=_flattenStyles$maxWid===void 0?Infinity:_flattenStyles$maxWid,_flattenStyles$maxHei=flattenStyles.maxHeight,maxHeight=_flattenStyles$maxHei===void 0?Infinity:_flattenStyles$maxHei,_flattenStyles$minWid=flattenStyles.minWidth,minWidth=_flattenStyles$minWid===void 0?0:_flattenStyles$minWid,_flattenStyles$minHei=flattenStyles.minHeight,minHeight=_flattenStyles$minHei===void 0?0:_flattenStyles$minHei;var imagesMaxWidth=typeof contentWidth===\"number\"?computeImagesMaxWidth(contentWidth):Infinity;var minBox={width:minWidth,height:minHeight};var maxBox={width:Math.min(imagesMaxWidth,maxWidth,typeof requiredWidth===\"number\"?requiredWidth:Infinity)-horizontalSpace,height:Math.min(typeof requiredHeight===\"number\"?requiredHeight:Infinity,maxHeight)};if(typeof requiredWidth===\"number\"&&typeof requiredHeight===\"number\"){return scale({minBox:minBox,maxBox:maxBox},{width:requiredWidth,height:requiredHeight});}if(imagePhysicalWidth!=null&&imagePhysicalHeight!=null){return scale({minBox:minBox,maxBox:maxBox},{width:imagePhysicalWidth,height:imagePhysicalHeight});}return null;}var HTMLImageElement=(_temp=_class=function(_PureComponent){(0,_inherits2.default)(HTMLImageElement,_PureComponent);var _super=_createSuper(HTMLImageElement);function HTMLImageElement(props){var _this;(0,_classCallCheck2.default)(this,HTMLImageElement);_this=_super.call(this,props);_this.mounted=false;_this.invalidateRequirements(props);var state={imagePhysicalWidth:_this.__cachedPhysicalDimensionsFromProps.width,imagePhysicalHeight:_this.__cachedPhysicalDimensionsFromProps.height,requiredWidth:_this.__cachedRequirements.width,requiredHeight:_this.__cachedRequirements.height,imageBoxDimensions:null,error:false};_this.state=(0,_extends2.default)({},state,{imageBoxDimensions:_this.computeImageBoxDimensions(props,state)});return _this;}(0,_createClass2.default)(HTMLImageElement,[{key:\"invalidateRequirements\",value:function invalidateRequirements(props){var contentWidth=props.contentWidth,enableExperimentalPercentWidth=props.enableExperimentalPercentWidth,style=props.style;var physicalDimensionsFromProps=derivePhysicalDimensionsFromProps(props);this.__cachedFlattenStyles=_reactNative.StyleSheet.flatten(style)||emptyObject;this.__cachedPhysicalDimensionsFromProps=physicalDimensionsFromProps;this.__cachedRequirements=deriveRequiredDimensionsFromProps({contentWidth:contentWidth,enablePercentWidth:enableExperimentalPercentWidth,flatStyle:this.__cachedFlattenStyles,physicalDimensionsFromProps:physicalDimensionsFromProps});}},{key:\"computeImageBoxDimensions\",value:function computeImageBoxDimensions(props,state){var computeImagesMaxWidth=props.computeImagesMaxWidth,contentWidth=props.contentWidth;var imagePhysicalWidth=state.imagePhysicalWidth,imagePhysicalHeight=state.imagePhysicalHeight,requiredWidth=state.requiredWidth,requiredHeight=state.requiredHeight;var imageBoxDimensions=_computeImageBoxDimensions({flattenStyles:this.__cachedFlattenStyles,computeImagesMaxWidth:computeImagesMaxWidth,contentWidth:contentWidth,imagePhysicalWidth:imagePhysicalWidth,imagePhysicalHeight:imagePhysicalHeight,requiredWidth:requiredWidth,requiredHeight:requiredHeight});return imageBoxDimensions;}},{key:\"componentDidMount\",value:function componentDidMount(){this.mounted=true;this.fetchPhysicalImageDimensions();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.mounted=false;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this2=this;var sourceHasChanged=!sourcesAreEqual(prevProps.source,this.props.source);var requirementsHaveChanged=prevProps.width!==this.props.width||prevProps.height!==this.props.height||prevProps.style!==this.props.style;var shouldRecomputeImageBox=requirementsHaveChanged||this.state.imagePhysicalWidth!==prevState.imagePhysicalWidth||this.state.imagePhysicalHeight!==prevState.imagePhysicalHeight||this.props.contentWidth!==prevProps.contentWidth||this.props.computeImagesMaxWidth!==prevProps.computeImagesMaxWidth;if(requirementsHaveChanged){this.invalidateRequirements(this.props);this.setState({requiredWidth:this.__cachedRequirements.width,requiredHeight:this.__cachedRequirements.height});}if(sourceHasChanged){if(this.__cachedRequirements.width===null||this.__cachedRequirements.height===null){this.fetchPhysicalImageDimensions();}}if(shouldRecomputeImageBox){this.setState(function(state,props){return{imageBoxDimensions:_this2.computeImageBoxDimensions(props,state)};});}}},{key:\"fetchPhysicalImageDimensions\",value:function fetchPhysicalImageDimensions(){var _this3=this;var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props;var source=props.source;var shouldFetchFromImgAPI=!!(source!=null&&source.uri);if(this.__cachedPhysicalDimensionsFromProps.width!=null&&this.__cachedPhysicalDimensionsFromProps.height!=null){this.setState({imagePhysicalWidth:this.__cachedPhysicalDimensionsFromProps.width,imagePhysicalHeight:this.__cachedPhysicalDimensionsFromProps.height});}else if(shouldFetchFromImgAPI){_reactNative.Image.getSize(source.uri,function(imagePhysicalWidth,imagePhysicalHeight){_this3.mounted&&_this3.setState({imagePhysicalWidth:imagePhysicalWidth,imagePhysicalHeight:imagePhysicalHeight,error:false});},function(){_this3.mounted&&_this3.setState({error:true});});}}},{key:\"renderImage\",value:function renderImage(imageBoxDimensions,imageStyles){var _this4=this;var source=this.props.source;return _react.default.createElement(_reactNative.Image,{source:source,onError:function onError(){return _this4.setState({error:true});},style:[defaultImageStyle,imageBoxDimensions,imageStyles],testID:\"image-layout\",__self:this,__source:{fileName:_jsxFileName,lineNumber:406,columnNumber:7}});}},{key:\"renderAlt\",value:function renderAlt(){var imageBoxDimensions=this.computeImageBoxDimensions(this.props,this.state);return _react.default.createElement(_reactNative.View,{style:[styles.errorBox,{height:(imageBoxDimensions==null?void 0:imageBoxDimensions.height)||this.props.imagesInitialDimensions.height,width:(imageBoxDimensions==null?void 0:imageBoxDimensions.width)||this.props.imagesInitialDimensions.width}],testID:\"image-error\",__self:this,__source:{fileName:_jsxFileName,lineNumber:421,columnNumber:7}},this.props.alt?_react.default.createElement(_reactNative.Text,{style:[styles.errorText,{color:this.props.altColor}],__self:this,__source:{fileName:_jsxFileName,lineNumber:436,columnNumber:11}},this.props.alt):false);}},{key:\"renderPlaceholder\",value:function renderPlaceholder(){return _react.default.createElement(_reactNative.View,{style:this.props.imagesInitialDimensions,testID:\"image-placeholder\",__self:this,__source:{fileName:_jsxFileName,lineNumber:448,columnNumber:7}});}},{key:\"renderContent\",value:function renderContent(imgStyles){var _this$state=this.state,error=_this$state.error,imageBoxDimensions=_this$state.imageBoxDimensions;if(error){return this.renderAlt();}if(imageBoxDimensions===null){return this.renderPlaceholder();}return this.renderImage(imageBoxDimensions,imgStyles);}},{key:\"render\",value:function render(){var _this$__cachedFlatten=this.__cachedFlattenStyles,width=_this$__cachedFlatten.width,height=_this$__cachedFlatten.height,remainingStyle=(0,_objectWithoutProperties2.default)(_this$__cachedFlatten,[\"width\",\"height\"]);var imgStyles=extractImgStyleProps(remainingStyle);var style=[styles.container,remainingStyle];if(this.props.onPress){return _react.default.createElement(_reactNative.TouchableHighlight,{onPress:this.props.onPress,style:style,__self:this,__source:{fileName:_jsxFileName,lineNumber:472,columnNumber:9}},this.renderContent(imgStyles));}return _react.default.createElement(_reactNative.View,{style:style,__self:this,__source:{fileName:_jsxFileName,lineNumber:477,columnNumber:12}},this.renderContent(imgStyles));}}]);return HTMLImageElement;}(_react.PureComponent),_class.propTypes={source:_propTypes.default.object.isRequired,alt:_propTypes.default.string,height:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),width:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),style:_propTypes.default.oneOfType([_propTypes.default.object,_propTypes.default.array]),computeImagesMaxWidth:_propTypes.default.func.isRequired,contentWidth:_propTypes.default.number,enableExperimentalPercentWidth:_propTypes.default.bool,imagesInitialDimensions:_propTypes.default.shape({width:_propTypes.default.number,height:_propTypes.default.number}),altColor:_propTypes.default.string,onPress:_propTypes.default.func,testID:_propTypes.default.string},_class.defaultProps={enableExperimentalPercentWidth:false,computeImagesMaxWidth:identity,imagesInitialDimensions:{width:100,height:100},style:{}},_temp);var _default=HTMLImageElement;exports.default=_default;"]},"metadata":{},"sourceType":"script"}