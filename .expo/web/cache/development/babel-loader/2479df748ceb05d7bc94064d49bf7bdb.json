{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cssStringToObject = cssStringToObject;\nexports.cssObjectToString = cssObjectToString;\nexports.constructStyles = constructStyles;\nexports.computeTextStyles = computeTextStyles;\nexports.getElementClassStyles = getElementClassStyles;\nexports.getElementCSSClasses = getElementCSSClasses;\nexports.cssStringToRNStyle = cssStringToRNStyle;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _HTMLUtils = require(\"./HTMLUtils\");\n\nvar _HTMLDefaultStyles = require(\"./HTMLDefaultStyles\");\n\nfunction cssStringToObject(str) {\n  return str.split(\";\").map(function (prop) {\n    return prop.split(\":\");\n  }).reduce(function (acc, prop) {\n    if (prop.length === 2) {\n      acc[prop[0].trim()] = prop[1].trim();\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction cssObjectToString(obj) {\n  var string = \"\";\n  Object.keys(obj).forEach(function (style) {\n    string += style + \":\" + obj[style] + \";\";\n  });\n  return string;\n}\n\nfunction constructStyles(_ref) {\n  var tagName = _ref.tagName,\n      htmlAttribs = _ref.htmlAttribs,\n      passProps = _ref.passProps,\n      additionalStyles = _ref.additionalStyles,\n      _ref$styleSet = _ref.styleSet,\n      styleSet = _ref$styleSet === void 0 ? \"VIEW\" : _ref$styleSet,\n      baseFontSize = _ref.baseFontSize;\n  var defaultTextStyles = (0, _HTMLDefaultStyles.generateDefaultTextStyles)(baseFontSize);\n  var defaultBlockStyles = (0, _HTMLDefaultStyles.generateDefaultBlockStyles)(baseFontSize);\n  passProps.ignoredStyles.forEach(function (ignoredStyle) {\n    htmlAttribs[ignoredStyle] && delete htmlAttribs[ignoredStyle];\n  });\n  var style = [(styleSet === \"VIEW\" ? defaultBlockStyles : defaultTextStyles)[tagName], passProps.tagsStyles ? passProps.tagsStyles[tagName] : undefined, getElementClassStyles(htmlAttribs, passProps.classesStyles), htmlAttribs.style ? cssStringToRNStyle(htmlAttribs.style, _HTMLUtils.STYLESETS[styleSet], (0, _extends2.default)({}, passProps, {\n    parentTag: tagName\n  })) : undefined];\n\n  if (additionalStyles) {\n    style = style.concat(!additionalStyles.length ? [additionalStyles] : additionalStyles);\n  }\n\n  return style.filter(function (s) {\n    return s !== undefined;\n  });\n}\n\nfunction computeTextStyles(element, passProps) {\n  var finalStyle = {};\n\n  var parentStyles = _recursivelyComputeParentTextStyles(element, passProps);\n\n  parentStyles.forEach(function (styles) {\n    Object.keys(styles).forEach(function (styleKey) {\n      var styleValue = styles[styleKey];\n\n      if (!finalStyle[styleKey]) {\n        finalStyle[styleKey] = styleValue;\n      }\n    });\n  });\n  return (0, _extends2.default)({}, passProps.baseFontStyle, finalStyle);\n}\n\nfunction _recursivelyComputeParentTextStyles(element, passProps) {\n  var styles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var attribs = element.attribs,\n      name = element.name;\n  var classesStyles = passProps.classesStyles,\n      tagsStyles = passProps.tagsStyles,\n      defaultTextStyles = passProps.defaultTextStyles;\n  var HTMLAttribsStyles = attribs && attribs.style ? cssStringToRNStyle(attribs.style, _HTMLUtils.STYLESETS.TEXT, passProps) : {};\n  var classStyles = getElementClassStyles(attribs, classesStyles);\n  var userTagStyles = tagsStyles[name];\n  var defaultTagStyles = defaultTextStyles[name];\n  var mergedStyles = (0, _extends2.default)({}, defaultTagStyles, userTagStyles, classStyles, HTMLAttribsStyles);\n  styles.push(mergedStyles);\n\n  if (element.parent) {\n    return _recursivelyComputeParentTextStyles(element.parent, passProps, styles);\n  } else {\n    return styles;\n  }\n}\n\nfunction getElementClassStyles(htmlAttribs) {\n  var classesStyles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var elementClasses = getElementCSSClasses(htmlAttribs);\n  var styles = {};\n  elementClasses.forEach(function (className) {\n    if (classesStyles[className]) {\n      styles = (0, _extends2.default)({}, styles, classesStyles[className]);\n    }\n  });\n  return styles;\n}\n\nfunction getElementCSSClasses(htmlAttribs) {\n  if (!htmlAttribs || !htmlAttribs.class) {\n    return [];\n  }\n\n  return htmlAttribs.class.split(\" \");\n}\n\nfunction cssToRNStyle(css, styleset, _ref2) {\n  var emSize = _ref2.emSize,\n      ptSize = _ref2.ptSize,\n      ignoredStyles = _ref2.ignoredStyles,\n      allowedStyles = _ref2.allowedStyles;\n  var styleProps = _HTMLUtils.stylePropTypes[styleset];\n  return Object.keys(css).filter(function (key) {\n    return allowedStyles ? allowedStyles.indexOf(key) !== -1 : true;\n  }).filter(function (key) {\n    return (ignoredStyles || []).indexOf(key) === -1;\n  }).map(function (key) {\n    return [key, css[key]];\n  }).map(function (_ref3) {\n    var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n        key = _ref4[0],\n        value = _ref4[1];\n\n    return [key.split(\"-\").map(function (item, index) {\n      return index === 0 ? item : item[0].toUpperCase() + item.substr(1);\n    }).join(\"\"), value];\n  }).map(function (_ref5) {\n    var _ref6 = (0, _slicedToArray2.default)(_ref5, 2),\n        key = _ref6[0],\n        value = _ref6[1];\n\n    if (styleProps.indexOf(key) === -1) {\n      return undefined;\n    }\n\n    if (typeof value === \"string\") {\n      value = value.replace(/\\s*!\\s*important/, \"\");\n\n      if (key === \"display\" && [\"flex\", \"none\"].indexOf(value) === -1) {\n        return [key, \"flex\"];\n      }\n\n      if (key === \"textAlign\") {\n        if ([\"left\", \"right\", \"justify\", \"auto\", \"center\"].indexOf(value) !== -1) {\n          return [key, value];\n        }\n\n        if (value === \"start\") {\n          return [key, \"left\"];\n        }\n\n        if (value === \"end\") {\n          return [key, \"right\"];\n        }\n\n        return undefined;\n      }\n\n      if (value.replace(/[-_]/g, \"\").search(/\\binherit\\b|\\bnormal\\b|\\bnone\\b|(calc|var)\\(.*\\)/) !== -1) {\n        return undefined;\n      }\n\n      if (value.search(/[\\d.]+%/) !== -1 && _HTMLUtils.PERC_SUPPORTED_STYLES.indexOf(key) !== -1) {\n        return [key, value];\n      }\n\n      if (value.search(/[\\d.]+em/) !== -1) {\n        var pxSize = parseFloat(value.replace(\"em\", \"\")) * emSize;\n        return [key, pxSize];\n      }\n\n      if (value.search(/[\\d.]+pt/) !== -1) {\n        var _pxSize = parseFloat(value.replace(\"pt\", \"\")) * ptSize;\n\n        return [key, _pxSize];\n      }\n\n      var numericValue = parseFloat(value.replace(\"px\", \"\"));\n\n      if (key !== \"fontWeight\" && !isNaN(numericValue)) {\n        if (styleProps.indexOf(key) !== -1) {\n          return [key, numericValue];\n        }\n      }\n\n      if (key === \"fontSize\") {\n        return mapAbsoluteFontSize(key, value);\n      }\n    }\n\n    return [key, value];\n  }).filter(function (prop) {\n    return prop !== undefined;\n  }).reduce(function (acc, _ref7) {\n    var _ref8 = (0, _slicedToArray2.default)(_ref7, 2),\n        key = _ref8[0],\n        value = _ref8[1];\n\n    acc[key] = value;\n    return acc;\n  }, {});\n}\n\nfunction mapAbsoluteFontSize(key, value) {\n  var fontSize = value;\n\n  if (_HTMLUtils.ABSOLUTE_FONT_SIZE.hasOwnProperty(value)) {\n    fontSize = _HTMLUtils.ABSOLUTE_FONT_SIZE[value];\n  }\n\n  return [key, fontSize];\n}\n\nfunction cssStringToRNStyle(str) {\n  var styleset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _HTMLUtils.STYLESETS.TEXT;\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  return cssToRNStyle(cssStringToObject(str), styleset, options);\n}\n\nexports._getElementClassStyles = getElementClassStyles;\nexports._getElementCSSClasses = getElementCSSClasses;\nexports._constructStyles = constructStyles;","map":{"version":3,"sources":["L:/ReactNative/biome/node_modules/react-native-render-html/lib/HTMLStyles.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","cssStringToObject","cssObjectToString","constructStyles","computeTextStyles","getElementClassStyles","getElementCSSClasses","cssStringToRNStyle","_slicedToArray2","_extends2","_HTMLUtils","_HTMLDefaultStyles","str","split","map","prop","reduce","acc","length","trim","obj","string","keys","forEach","style","_ref","tagName","htmlAttribs","passProps","additionalStyles","_ref$styleSet","styleSet","baseFontSize","defaultTextStyles","generateDefaultTextStyles","defaultBlockStyles","generateDefaultBlockStyles","ignoredStyles","ignoredStyle","tagsStyles","undefined","classesStyles","STYLESETS","default","parentTag","concat","filter","s","element","finalStyle","parentStyles","_recursivelyComputeParentTextStyles","styles","styleKey","styleValue","baseFontStyle","arguments","attribs","name","HTMLAttribsStyles","TEXT","classStyles","userTagStyles","defaultTagStyles","mergedStyles","push","parent","elementClasses","className","class","cssToRNStyle","css","styleset","_ref2","emSize","ptSize","allowedStyles","styleProps","stylePropTypes","key","indexOf","_ref3","_ref4","item","index","toUpperCase","substr","join","_ref5","_ref6","replace","search","PERC_SUPPORTED_STYLES","pxSize","parseFloat","_pxSize","numericValue","isNaN","mapAbsoluteFontSize","_ref7","_ref8","fontSize","ABSOLUTE_FONT_SIZE","hasOwnProperty","options","_getElementClassStyles","_getElementCSSClasses","_constructStyles"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.cssStringToObject=cssStringToObject;exports.cssObjectToString=cssObjectToString;exports.constructStyles=constructStyles;exports.computeTextStyles=computeTextStyles;exports.getElementClassStyles=getElementClassStyles;exports.getElementCSSClasses=getElementCSSClasses;exports.cssStringToRNStyle=cssStringToRNStyle;var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _HTMLUtils=require(\"./HTMLUtils\");var _HTMLDefaultStyles=require(\"./HTMLDefaultStyles\");function cssStringToObject(str){return str.split(\";\").map(function(prop){return prop.split(\":\");}).reduce(function(acc,prop){if(prop.length===2){acc[prop[0].trim()]=prop[1].trim();}return acc;},{});}function cssObjectToString(obj){var string=\"\";Object.keys(obj).forEach(function(style){string+=style+\":\"+obj[style]+\";\";});return string;}function constructStyles(_ref){var tagName=_ref.tagName,htmlAttribs=_ref.htmlAttribs,passProps=_ref.passProps,additionalStyles=_ref.additionalStyles,_ref$styleSet=_ref.styleSet,styleSet=_ref$styleSet===void 0?\"VIEW\":_ref$styleSet,baseFontSize=_ref.baseFontSize;var defaultTextStyles=(0,_HTMLDefaultStyles.generateDefaultTextStyles)(baseFontSize);var defaultBlockStyles=(0,_HTMLDefaultStyles.generateDefaultBlockStyles)(baseFontSize);passProps.ignoredStyles.forEach(function(ignoredStyle){htmlAttribs[ignoredStyle]&&delete htmlAttribs[ignoredStyle];});var style=[(styleSet===\"VIEW\"?defaultBlockStyles:defaultTextStyles)[tagName],passProps.tagsStyles?passProps.tagsStyles[tagName]:undefined,getElementClassStyles(htmlAttribs,passProps.classesStyles),htmlAttribs.style?cssStringToRNStyle(htmlAttribs.style,_HTMLUtils.STYLESETS[styleSet],(0,_extends2.default)({},passProps,{parentTag:tagName})):undefined];if(additionalStyles){style=style.concat(!additionalStyles.length?[additionalStyles]:additionalStyles);}return style.filter(function(s){return s!==undefined;});}function computeTextStyles(element,passProps){var finalStyle={};var parentStyles=_recursivelyComputeParentTextStyles(element,passProps);parentStyles.forEach(function(styles){Object.keys(styles).forEach(function(styleKey){var styleValue=styles[styleKey];if(!finalStyle[styleKey]){finalStyle[styleKey]=styleValue;}});});return(0,_extends2.default)({},passProps.baseFontStyle,finalStyle);}function _recursivelyComputeParentTextStyles(element,passProps){var styles=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var attribs=element.attribs,name=element.name;var classesStyles=passProps.classesStyles,tagsStyles=passProps.tagsStyles,defaultTextStyles=passProps.defaultTextStyles;var HTMLAttribsStyles=attribs&&attribs.style?cssStringToRNStyle(attribs.style,_HTMLUtils.STYLESETS.TEXT,passProps):{};var classStyles=getElementClassStyles(attribs,classesStyles);var userTagStyles=tagsStyles[name];var defaultTagStyles=defaultTextStyles[name];var mergedStyles=(0,_extends2.default)({},defaultTagStyles,userTagStyles,classStyles,HTMLAttribsStyles);styles.push(mergedStyles);if(element.parent){return _recursivelyComputeParentTextStyles(element.parent,passProps,styles);}else{return styles;}}function getElementClassStyles(htmlAttribs){var classesStyles=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var elementClasses=getElementCSSClasses(htmlAttribs);var styles={};elementClasses.forEach(function(className){if(classesStyles[className]){styles=(0,_extends2.default)({},styles,classesStyles[className]);}});return styles;}function getElementCSSClasses(htmlAttribs){if(!htmlAttribs||!htmlAttribs.class){return[];}return htmlAttribs.class.split(\" \");}function cssToRNStyle(css,styleset,_ref2){var emSize=_ref2.emSize,ptSize=_ref2.ptSize,ignoredStyles=_ref2.ignoredStyles,allowedStyles=_ref2.allowedStyles;var styleProps=_HTMLUtils.stylePropTypes[styleset];return Object.keys(css).filter(function(key){return allowedStyles?allowedStyles.indexOf(key)!==-1:true;}).filter(function(key){return(ignoredStyles||[]).indexOf(key)===-1;}).map(function(key){return[key,css[key]];}).map(function(_ref3){var _ref4=(0,_slicedToArray2.default)(_ref3,2),key=_ref4[0],value=_ref4[1];return[key.split(\"-\").map(function(item,index){return index===0?item:item[0].toUpperCase()+item.substr(1);}).join(\"\"),value];}).map(function(_ref5){var _ref6=(0,_slicedToArray2.default)(_ref5,2),key=_ref6[0],value=_ref6[1];if(styleProps.indexOf(key)===-1){return undefined;}if(typeof value===\"string\"){value=value.replace(/\\s*!\\s*important/,\"\");if(key===\"display\"&&[\"flex\",\"none\"].indexOf(value)===-1){return[key,\"flex\"];}if(key===\"textAlign\"){if([\"left\",\"right\",\"justify\",\"auto\",\"center\"].indexOf(value)!==-1){return[key,value];}if(value===\"start\"){return[key,\"left\"];}if(value===\"end\"){return[key,\"right\"];}return undefined;}if(value.replace(/[-_]/g,\"\").search(/\\binherit\\b|\\bnormal\\b|\\bnone\\b|(calc|var)\\(.*\\)/)!==-1){return undefined;}if(value.search(/[\\d.]+%/)!==-1&&_HTMLUtils.PERC_SUPPORTED_STYLES.indexOf(key)!==-1){return[key,value];}if(value.search(/[\\d.]+em/)!==-1){var pxSize=parseFloat(value.replace(\"em\",\"\"))*emSize;return[key,pxSize];}if(value.search(/[\\d.]+pt/)!==-1){var _pxSize=parseFloat(value.replace(\"pt\",\"\"))*ptSize;return[key,_pxSize];}var numericValue=parseFloat(value.replace(\"px\",\"\"));if(key!==\"fontWeight\"&&!isNaN(numericValue)){if(styleProps.indexOf(key)!==-1){return[key,numericValue];}}if(key===\"fontSize\"){return mapAbsoluteFontSize(key,value);}}return[key,value];}).filter(function(prop){return prop!==undefined;}).reduce(function(acc,_ref7){var _ref8=(0,_slicedToArray2.default)(_ref7,2),key=_ref8[0],value=_ref8[1];acc[key]=value;return acc;},{});}function mapAbsoluteFontSize(key,value){var fontSize=value;if(_HTMLUtils.ABSOLUTE_FONT_SIZE.hasOwnProperty(value)){fontSize=_HTMLUtils.ABSOLUTE_FONT_SIZE[value];}return[key,fontSize];}function cssStringToRNStyle(str){var styleset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_HTMLUtils.STYLESETS.TEXT;var options=arguments.length>2?arguments[2]:undefined;return cssToRNStyle(cssStringToObject(str),styleset,options);}exports._getElementClassStyles=getElementClassStyles;exports._getElementCSSClasses=getElementCSSClasses;exports._constructStyles=constructStyles;"]},"metadata":{},"sourceType":"script"}